(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{243:function(e,r,t){"use strict";t.r(r);var n=t(37),o=Object(n.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("In the beginning, Javascript did not have a way to import/export modules. This is a problem. Imagine writing your app in just one file - it would be nightmarish!")]),e._v(" "),t("p",[e._v("Then, people much, much smarter than me attempted to add modularity to Javascript. Some of them are "),t("strong",[e._v("CJS, AMD, UMD, and ESM")]),e._v(". You may have heard some of them (there are other methods, but these are the big players).")]),e._v(" "),t("p",[e._v("I will cover high-level information: syntax, purpose, and basic behaviors. My goal is to help readers recognize when they see them in the wild ðŸ’¡.")]),e._v(" "),t("h1",{attrs:{id:"cjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cjs","aria-hidden":"true"}},[e._v("#")]),e._v(" CJS")]),e._v(" "),t("p",[e._v("CJS is short for CommonJS. Here is what it looks like:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("//importing \nconst doSomething = require('./doSomething.js'); \n\n//exporting\nmodule.exports = function doSomething(n) {\n  // do something\n}\n")])])]),t("ul",[t("li",[e._v("Some of you may immediately recognize CJS syntax from node. That's because node "),t("a",{attrs:{href:"https://blog.risingstack.com/node-js-at-scale-module-system-commonjs-require/",target:"_blank",rel:"noopener noreferrer"}},[e._v("uses CJS module format"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("li",[e._v("CJS imports module synchronously.")]),e._v(" "),t("li",[e._v("You can import from a library "),t("code",[e._v("node_modules")]),e._v(" or local dir. Either by  "),t("code",[e._v("const myLocalModule = require('./some/local/file.js')")]),e._v(" or "),t("code",[e._v("var React = require('react');")]),e._v(" works.")]),e._v(" "),t("li",[e._v("When CJS imports, it will give you a "),t("strong",[e._v("copy")]),e._v(" of the imported object.")]),e._v(" "),t("li",[e._v("CJS will not work in the browser. It will have to be transpiled and bundled.")])]),e._v(" "),t("h1",{attrs:{id:"amd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#amd","aria-hidden":"true"}},[e._v("#")]),e._v(" AMD")]),e._v(" "),t("p",[e._v("AMD stands for Asynchronous Module Definition. Here is a sample code:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("define(['dep1', 'dep2'], function (dep1, dep2) {\n    //Define the module value by returning a value.\n    return function () {};\n});\n")])])]),t("p",[e._v("or")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// \"simplified CommonJS wrapping\" https://requirejs.org/docs/whyamd.html\ndefine(function (require) {\n    var dep1 = require('dep1'),\n        dep2 = require('dep2');\n    return function () {};\n});\n")])])]),t("ul",[t("li",[e._v("AMD imports modules asynchronously (hence the name).")]),e._v(" "),t("li",[e._v("AMD is "),t("a",{attrs:{href:"http://tagneto.blogspot.com/2011/04/on-inventing-js-module-formats-and.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("made for frontend"),t("OutboundLink")],1),e._v(" (when it was proposed) (while CJS backend).")]),e._v(" "),t("li",[e._v("AMD syntax is less intuitive than CJS.\nI think of AMD as the exact opposite sibling of CJS.")])]),e._v(" "),t("h1",{attrs:{id:"umd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#umd","aria-hidden":"true"}},[e._v("#")]),e._v(" UMD")]),e._v(" "),t("p",[e._v("UMD stands for Universal Module Definition. Here is what it may look like ("),t("a",{attrs:{href:"http://bob.yexley.net/umd-javascript-that-runs-anywhere/",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),t("OutboundLink")],1),e._v("):")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('(function (root, factory) {\n    if (typeof define === "function" && define.amd) {\n        define(["jquery", "underscore"], factory);\n    } else if (typeof exports === "object") {\n        module.exports = factory(require("jquery"), require("underscore"));\n    } else {\n        root.Requester = factory(root.$, root._);\n    }\n}(this, function ($, _) {\n    // this is where I defined my module implementation\n\n    var Requester = { // ... };\n\n    return Requester;\n}));\n')])])]),t("ul",[t("li",[e._v("Works on front and back end (hence the name "),t("em",[e._v("universal")]),e._v(").")]),e._v(" "),t("li",[e._v("Unlike CJS or AMD, UMD is more like a pattern to configure several module systems. Check "),t("a",{attrs:{href:"https://github.com/umdjs/umd/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(" for more patterns.")]),e._v(" "),t("li",[e._v("UMD is usually used as a fallback module when using bundler like Rollup/ Webpack")])]),e._v(" "),t("h1",{attrs:{id:"esm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#esm","aria-hidden":"true"}},[e._v("#")]),e._v(" ESM")]),e._v(" "),t("p",[e._v("ESM stands for ES Modules. It is Javascript's proposal to implement a "),t("a",{attrs:{href:"https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/",target:"_blank",rel:"noopener noreferrer"}},[e._v("standard"),t("OutboundLink")],1),e._v(" module system. I am sure many of you have seen this:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import React from 'react';\n")])])]),t("p",[e._v("Other sightings in the wild:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import {foo, bar} from './myLib';\n\n...\n\nexport default function() {\n  // your Function\n};\nexport const function1() {...};\nexport const function2() {...};\n")])])]),t("ul",[t("li",[e._v("Works in "),t("a",{attrs:{href:"https://caniuse.com/#feat=es6-module",target:"_blank",rel:"noopener noreferrer"}},[e._v("many modern browsers"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("It has the best of both worlds: CJS-like simple syntax and AMD's async")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/optimizing-javascript/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tree-shakeable"),t("OutboundLink")],1),e._v(", due to ES6's "),t("a",{attrs:{href:"https://exploringjs.com/es6/ch_modules.html#static-module-structure",target:"_blank",rel:"noopener noreferrer"}},[e._v("static module structure"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("ESM allows bundlers like Rollup to "),t("a",{attrs:{href:"https://dev.to/bennypowers/you-should-be-using-esm-kn3",target:"_blank",rel:"noopener noreferrer"}},[e._v("remove unnecessary code"),t("OutboundLink")],1),e._v(", allowing sites to ship less codes to get faster load.")]),e._v(" "),t("li",[e._v("Can be called in HTML, just do:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<script type=\"module\">\n  import {func1} from 'my-lib';\n\n  func1();\n<\/script>\n")])])]),t("p",[e._v("This may not work 100% in all browsers yet ("),t("a",{attrs:{href:"https://jakearchibald.com/2017/es-modules-in-browsers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),t("OutboundLink")],1),e._v(").")]),e._v(" "),t("h1",{attrs:{id:"summary"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#summary","aria-hidden":"true"}},[e._v("#")]),e._v(" Summary")]),e._v(" "),t("ul",[t("li",[e._v("ESM is the best module format thanks to its simple syntax, async nature, and tree-shakeability.")]),e._v(" "),t("li",[e._v("UMD works everywhere and usually used as a fallback in case ESM does not work")]),e._v(" "),t("li",[e._v("CJS is synchronous and good for back end.")]),e._v(" "),t("li",[e._v("AMD is asynchronous and good for front end.")])]),e._v(" "),t("p",[e._v("Thanks for reading, devs! In the future, I plan to write in depth about each module, especially ESM because it is packed with many awesomeness. Stay tuned!")]),e._v(" "),t("p",[e._v("Let me know if you notice any errors.")]),e._v(" "),t("h1",{attrs:{id:"resources"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resources","aria-hidden":"true"}},[e._v("#")]),e._v(" Resources:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.freecodecamp.org/news/anatomy-of-js-module-systems-and-building-libraries-fadcd8dbd0e/",target:"_blank",rel:"noopener noreferrer"}},[e._v("basic js modules"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.risingstack.com/node-js-at-scale-module-system-commonjs-require/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CJS in nodejs"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://jsmodules.io/cjs.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CJs-ESM comparison"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"http://tagneto.blogspot.com/2011/04/on-inventing-js-module-formats-and.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("On inventing JS module formats and script loaders"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://requirejs.org/docs/whyamd.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Why use AMD"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://caniuse.com/#feat=es6-module",target:"_blank",rel:"noopener noreferrer"}},[e._v("es6 modules browser compatibility"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/optimizing-javascript/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reduce JS payloads with tree-shaking"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://exploringjs.com/es6/ch_modules.html#static-module-structure",target:"_blank",rel:"noopener noreferrer"}},[e._v("JS modules - static structure"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://jakearchibald.com/2017/es-modules-in-browsers/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESM in browsers"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ES Modules deep dive - cartoon"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://dev.to/bennypowers/you-should-be-using-esm-kn3",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reasons to use ESM"),t("OutboundLink")],1)])])])},[],!1,null,null,null);r.default=o.exports}}]);