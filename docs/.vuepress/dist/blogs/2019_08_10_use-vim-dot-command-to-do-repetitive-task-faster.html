<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>use Vim&#39;s dot command to do repetitive tasks faster | Hello there.</title>
    <meta name="description" content="Things Iggy writes about">
    
    
    <link rel="preload" href="/assets/css/0.styles.74245eb8.css" as="style"><link rel="preload" href="/assets/js/app.411ac2ac.js" as="script"><link rel="preload" href="/assets/js/2.826a9c57.js" as="script"><link rel="preload" href="/assets/js/17.8eec3b06.js" as="script"><link rel="prefetch" href="/assets/js/10.33a00c4d.js"><link rel="prefetch" href="/assets/js/11.9e2c5904.js"><link rel="prefetch" href="/assets/js/12.82d02492.js"><link rel="prefetch" href="/assets/js/13.2bba91b0.js"><link rel="prefetch" href="/assets/js/14.496d3aa4.js"><link rel="prefetch" href="/assets/js/15.8e326966.js"><link rel="prefetch" href="/assets/js/16.a4da2abb.js"><link rel="prefetch" href="/assets/js/18.edb89630.js"><link rel="prefetch" href="/assets/js/19.4431ab75.js"><link rel="prefetch" href="/assets/js/20.4463634e.js"><link rel="prefetch" href="/assets/js/21.d60a97f5.js"><link rel="prefetch" href="/assets/js/22.443a8923.js"><link rel="prefetch" href="/assets/js/23.cdd341e7.js"><link rel="prefetch" href="/assets/js/3.14889d81.js"><link rel="prefetch" href="/assets/js/4.6512c86b.js"><link rel="prefetch" href="/assets/js/5.839bfab5.js"><link rel="prefetch" href="/assets/js/6.3a95a3b3.js"><link rel="prefetch" href="/assets/js/7.00a5fbce.js"><link rel="prefetch" href="/assets/js/8.27c044bc.js"><link rel="prefetch" href="/assets/js/9.b297b1cf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74245eb8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><header class="px-6 bg-white flex flex-wrap items-center py-8"><input type="checkbox" id="menu-toggle" class="hidden"> <label id="hamburger" for="menu-toggle" class="fixed cursor-pointer block z-20"><div id="burgerToggle" class="cursor-pointer"><span></span> <span></span> <span></span></div></label> <div id="sideMenu" class="bg-gray-800 z-10 fixed top-0 left-0 bottom-0 w-64"><ul class="my-16 mx-4"><li class="my-4 cursor-default hover:no-underline"><div class="container flex flex-col items-start justify-center"><div class="my-4"><img src="/assets/img/iggy_square.57401581.jpg" class="ml-0 h-20 w-20 mb-4 rounded-full"> <div class="font-bold text-white mb-4">Igor Irianto</div> <div class="font-light text-gray-500 text-sm">Frontend dev who likes to post about Vim, JS, and other computer stuff. Lives in Dallas. Married. He doesn't have a lot of twitter follower so you should <a href="https://twitter.com/iggredible">add him</a>.</div></div></div></li> <li class="my-4 text-white font-light"><a href="#">Blogs</a></li> <li class="my-4 text-white font-light"><a href="#">About</a></li></ul></div> <div class="absolute top-0 right-0 m-4"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header> <div class="container max-w-5xl mx-auto"><!----> <div class="max-w-4xl mx-auto"><div class="relative"><div class="fixed top-4 left-0 pl-5"><a href="/">Home</a></div> <div class="content mx-16 lg:mx-24"><h1 class="text-center">use Vim's dot command to do repetitive tasks faster</h1> <h6 class="text-center italic font-light m-4">vim dot command tips</h6> <h4></h4> <div class="content__default"><p>Vim has been my go-to editor for the last 1.5 years, yet I am still learning something new. Recently I sought to learn about the vim's dot (<code>.</code>) command.</p> <p>Dot command is like a mini macro. Is repeats the last change made. If used correctly, it can save us time doing repetitive tasks.</p> <p>I am also curious how you guys use dot command - feel free to comment below!</p> <h1 id="how-does-it-work"><a href="#how-does-it-work" aria-hidden="true" class="header-anchor">#</a> How does it work?</h1> <p>If you see the help section in vim (<code>:h .</code>), you'll see:</p> <blockquote><p>Repeat last change, with count replaced with [count]...</p></blockquote> <p>I immediately thought, &quot;what does vim mean by 'change'?&quot;</p> <p>After some reading and experimenting, I concluded change means any act of updating, adding, or subtracting the content of a file. Moving around does <strong>not</strong> count as a change. Let's see if that is true by some application.</p> <h2 id="example-1-adding-to-the-end-of-each-line"><a href="#example-1-adding-to-the-end-of-each-line" aria-hidden="true" class="header-anchor">#</a> Example 1: Adding ; to the end of each line</h2> <p>Here is an example (<a href="https://www.reddit.com/r/ProgrammerHumor/comments/7uyafj/roses_are_red_violets_are_blue/" target="_blank" rel="noopener noreferrer">source<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>). Let's say we want to add <code>;</code> at the end of each line, this can be done with the help of <code>.</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>Roses are Red
Violets are Blue
Unexpected '{'
On line 32
</code></pre></div><p>Assume we are starting on top left where 'R' is. We start with <code>A ; &lt;esc&gt; j</code>.</p> <ol><li><code>A</code> jumps to end of line and enters insert mode.</li> <li><code>;</code> adds <code>&quot;;&quot;</code>, back to normal mode, then go down.</li></ol> <p>Cool, that whole (<code>A ; &lt;esc&gt; j</code>) was one change, right? No. If we do <code>. . .</code>, we end up with</p> <div class="language- extra-class"><pre class="language-text"><code>Roses are Red;
Violets are Blue;;; &lt;-- what happened?
Unexpected '{'
On line 32
</code></pre></div><p>This is because vim does <strong>not</strong> count <code>j</code> as part of change. Change excludes motions. In this case, vim consider a change to be <code>A ; &lt;esc&gt;</code>. We need to do <code>A ; &lt;esc&gt; j . j . j .</code>. Dot, down, dot, down, dot, down.</p> <h2 id="example-2-deleting-specific-word-but-not-all"><a href="#example-2-deleting-specific-word-but-not-all" aria-hidden="true" class="header-anchor">#</a> Example 2: Deleting specific word, but not all</h2> <p>For example, suppose our poem says this instead:</p> <div class="language- extra-class"><pre class="language-text"><code>Roses are Red Blue
Violets are Blue
Unexpected Blue '{'
On line Blue 32
</code></pre></div><p>We need to delete Blues except the one on line two. We can very quickly do it using dot command.</p> <p><code>/ Blue c i w &lt;backspace&gt; &lt;esc&gt;</code> deletes first Blue. Then <code>n n . n .</code></p> <p>This time, our change consist of:</p> <ol><li>Delete the entire word Blue and entering insert mode (<code>c i w</code>)</li> <li>Backspace while in insert mode</li> <li>Exit</li></ol> <p>I am starting to see a pattern here. <code>/ Blue</code> and <code>n</code> are not considered change by vim, but <code>c i w &lt;Backspace&gt; &lt;esc&gt;</code> does.</p> <p>Let's do another example:</p> <h2 id="example-3-adding-at-the-beginning-on-each-line"><a href="#example-3-adding-at-the-beginning-on-each-line" aria-hidden="true" class="header-anchor">#</a> Example 3: Adding ( at the beginning on each line</h2> <p>Another one, suppose you have:</p> <div class="language- extra-class"><pre class="language-text"><code>One)
Two)
Three)
</code></pre></div><p>We are adding ( at the start of each word. You can do <code>I ( &lt;esc&gt;</code> to apply the change to the first, then <code>j . j .</code>. Change here is <code>I ( &lt;esc&gt;</code>.</p> <h2 id="comparing-what-changed"><a href="#comparing-what-changed" aria-hidden="true" class="header-anchor">#</a> Comparing what 'changed'</h2> <p>Let's compare all of the repeatable changes from the past few examples:</p> <ol><li><code>A ; &lt;esc&gt;</code></li> <li><code>c i w &lt;Backspace&gt; &lt;Esc&gt;</code></li> <li><code>I ( &lt;esc&gt;</code></li></ol> <p>Do you see a pattern? They all <em>start</em> with commands that put you into insert mode (c, A, and I are all command that results in entering Insert mode) and end with <code>&lt;esc&gt;</code> .</p> <p>Another one I didn't mention was delete commands like <code>dd</code>. I can delete lines repeatedly by <code>dd . . . .</code>. Although dd does not enter insert mode, vim considers it as a change because it deletes an entire line. Remember, anything that adds, removes, or updates text is considered as change by vim.</p> <h1 id="application"><a href="#application" aria-hidden="true" class="header-anchor">#</a> Application</h1> <p>Above are some application of dot commands. It can save us a few keystrokes - a few keystrokes saved is time gained. Next time we are doing repetitive task, see if you can repeat it with the dot command.</p> <p>Thanks for reading! I really appreciate you making it this far. Happy hacking!</p> <h1 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources:</h1> <ul><li><a href="https://www.amazon.com/Practical-Vim-Thought-Pragmatic-Programmers/dp/1934356980" target="_blank" rel="noopener noreferrer">Practical Vim<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://stackoverflow.com/questions/7325052/why-the-dot-command-is-so-useful-in-vim" target="_blank" rel="noopener noreferrer">Why the dot (.) command is so useful in VIM?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h1 id="discuss"><a href="#discuss" aria-hidden="true" class="header-anchor">#</a> Discuss</h1> <p>I am interested to learn how other devs take advantage of the dot command. What other ways do you think dot commands can be used?</p></div></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.411ac2ac.js" defer></script><script src="/assets/js/2.826a9c57.js" defer></script><script src="/assets/js/17.8eec3b06.js" defer></script>
  </body>
</html>
